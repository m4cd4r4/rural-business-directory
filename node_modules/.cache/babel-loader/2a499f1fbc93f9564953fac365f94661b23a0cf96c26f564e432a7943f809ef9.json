{"ast":null,"code":"import React,{useState}from'react';import{sanitizeSearchInput}from'../utils/searchUtils';/**\n * SearchBar component for business search functionality\n * Features responsive design with search suggestions and accessibility\n */import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SearchBar=_ref=>{let{onSearch,placeholder=\"Search businesses, locations, or services...\",initialValue=\"\",showSearchButton=true,isLoading=false}=_ref;const[searchValue,setSearchValue]=useState(initialValue);const[isFocused,setIsFocused]=useState(false);// Handle input changes with sanitization\nconst handleInputChange=e=>{const value=sanitizeSearchInput(e.target.value);setSearchValue(value);// Trigger search immediately on input for real-time filtering\nif(onSearch){onSearch(value);}};// Handle form submission for explicit search\nconst handleSubmit=e=>{e.preventDefault();if(onSearch){onSearch(searchValue);}};// Clear search input\nconst handleClear=()=>{setSearchValue('');if(onSearch){onSearch('');}};return/*#__PURE__*/_jsx(\"div\",{className:\"w-full max-w-3xl mx-auto\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"relative\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"\\n          relative flex items-center bg-white rounded-lg shadow-sm border-2 transition-colors\\n          \".concat(isFocused?'border-amber-400 ring-2 ring-amber-100':'border-stone-200 hover:border-stone-300',\"\\n        \"),children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute left-4 flex items-center pointer-events-none\",children:isLoading?/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-5 w-5 border-2 border-amber-600 border-t-transparent\"}):/*#__PURE__*/_jsx(\"svg\",{className:\"h-5 w-5 text-stone-400\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\"})})}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:searchValue,onChange:handleInputChange,onFocus:()=>setIsFocused(true),onBlur:()=>setIsFocused(false),placeholder:placeholder,className:\"w-full pl-12 pr-20 py-4 text-stone-900 placeholder-stone-500 border-0 rounded-lg focus:outline-none text-lg\",\"aria-label\":\"Search businesses\"}),searchValue&&/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handleClear,className:\"absolute right-16 p-1 text-stone-400 hover:text-stone-600 transition-colors\",\"aria-label\":\"Clear search\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"h-4 w-4\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M6 18L18 6M6 6l12 12\"})})}),showSearchButton&&/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"absolute right-2 bg-amber-600 hover:bg-amber-700 text-white p-2 rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-amber-500 focus:ring-offset-2\",\"aria-label\":\"Submit search\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"h-5 w-5\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\"})})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-2 text-sm text-stone-600\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-center\",children:[\"Try searching for:\",/*#__PURE__*/_jsx(\"span\",{className:\"mx-1 px-2 py-0.5 bg-stone-100 rounded text-stone-700\",children:\"\\\"grain\\\"\"}),/*#__PURE__*/_jsx(\"span\",{className:\"mx-1 px-2 py-0.5 bg-stone-100 rounded text-stone-700\",children:\"\\\"Esperance\\\"\"}),/*#__PURE__*/_jsx(\"span\",{className:\"mx-1 px-2 py-0.5 bg-stone-100 rounded text-stone-700\",children:\"\\\"health services\\\"\"})]})})]})});};export default SearchBar;","map":{"version":3,"names":["React","useState","sanitizeSearchInput","jsx","_jsx","jsxs","_jsxs","SearchBar","_ref","onSearch","placeholder","initialValue","showSearchButton","isLoading","searchValue","setSearchValue","isFocused","setIsFocused","handleInputChange","e","value","target","handleSubmit","preventDefault","handleClear","className","children","onSubmit","concat","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","type","onChange","onFocus","onBlur","onClick"],"sources":["C:/Users/Hard-Worker/Desktop/rural-business-directory/src/components/SearchBar.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { sanitizeSearchInput } from '../utils/searchUtils';\n\n/**\n * SearchBar component for business search functionality\n * Features responsive design with search suggestions and accessibility\n */\nconst SearchBar = ({ \n  onSearch, \n  placeholder = \"Search businesses, locations, or services...\",\n  initialValue = \"\",\n  showSearchButton = true,\n  isLoading = false \n}) => {\n  const [searchValue, setSearchValue] = useState(initialValue);\n  const [isFocused, setIsFocused] = useState(false);\n\n  // Handle input changes with sanitization\n  const handleInputChange = (e) => {\n    const value = sanitizeSearchInput(e.target.value);\n    setSearchValue(value);\n    \n    // Trigger search immediately on input for real-time filtering\n    if (onSearch) {\n      onSearch(value);\n    }\n  };\n\n  // Handle form submission for explicit search\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (onSearch) {\n      onSearch(searchValue);\n    }\n  };\n\n  // Clear search input\n  const handleClear = () => {\n    setSearchValue('');\n    if (onSearch) {\n      onSearch('');\n    }\n  };\n\n  return (\n    <div className=\"w-full max-w-3xl mx-auto\">\n      <form onSubmit={handleSubmit} className=\"relative\">\n        <div className={`\n          relative flex items-center bg-white rounded-lg shadow-sm border-2 transition-colors\n          ${isFocused \n            ? 'border-amber-400 ring-2 ring-amber-100' \n            : 'border-stone-200 hover:border-stone-300'\n          }\n        `}>\n          {/* Search Icon */}\n          <div className=\"absolute left-4 flex items-center pointer-events-none\">\n            {isLoading ? (\n              <div className=\"animate-spin rounded-full h-5 w-5 border-2 border-amber-600 border-t-transparent\"></div>\n            ) : (\n              <svg \n                className=\"h-5 w-5 text-stone-400\" \n                fill=\"none\" \n                stroke=\"currentColor\" \n                viewBox=\"0 0 24 24\"\n                aria-hidden=\"true\"\n              >\n                <path \n                  strokeLinecap=\"round\" \n                  strokeLinejoin=\"round\" \n                  strokeWidth={2} \n                  d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" \n                />\n              </svg>\n            )}\n          </div>\n\n          {/* Search Input */}\n          <input\n            type=\"text\"\n            value={searchValue}\n            onChange={handleInputChange}\n            onFocus={() => setIsFocused(true)}\n            onBlur={() => setIsFocused(false)}\n            placeholder={placeholder}\n            className=\"w-full pl-12 pr-20 py-4 text-stone-900 placeholder-stone-500 border-0 rounded-lg focus:outline-none text-lg\"\n            aria-label=\"Search businesses\"\n          />\n\n          {/* Clear Button */}\n          {searchValue && (\n            <button\n              type=\"button\"\n              onClick={handleClear}\n              className=\"absolute right-16 p-1 text-stone-400 hover:text-stone-600 transition-colors\"\n              aria-label=\"Clear search\"\n            >\n              <svg className=\"h-4 w-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n              </svg>\n            </button>\n          )}\n\n          {/* Search Button */}\n          {showSearchButton && (\n            <button\n              type=\"submit\"\n              className=\"absolute right-2 bg-amber-600 hover:bg-amber-700 text-white p-2 rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-amber-500 focus:ring-offset-2\"\n              aria-label=\"Submit search\"\n            >\n              <svg className=\"h-5 w-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\n              </svg>\n            </button>\n          )}\n        </div>\n\n        {/* Search Tips */}\n        <div className=\"mt-2 text-sm text-stone-600\">\n          <p className=\"text-center\">\n            Try searching for: \n            <span className=\"mx-1 px-2 py-0.5 bg-stone-100 rounded text-stone-700\">\"grain\"</span>\n            <span className=\"mx-1 px-2 py-0.5 bg-stone-100 rounded text-stone-700\">\"Esperance\"</span>\n            <span className=\"mx-1 px-2 py-0.5 bg-stone-100 rounded text-stone-700\">\"health services\"</span>\n          </p>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default SearchBar;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}